module.exports=[64719,a=>{"use strict";var b=a.i(72131),c=a.i(87924);let d=b.createContext();a.s(["default",0,function({value:a,...b}){return(0,c.jsx)(d.Provider,{value:a??!0,...b})},"useRtl",0,()=>b.useContext(d)??!1])},55613,27160,a=>{"use strict";var b=a.i(61156),c=a.i(87924);function d(a){let{styles:d,defaultTheme:e={}}=a,f="function"==typeof d?a=>d(null==a||0===Object.keys(a).length?e:a):d;return(0,c.jsx)(b.Global,{styles:f})}a.s(["GlobalStyles",()=>d],27160);var e=a.i(90998),f=a.i(5721);function g(a){let b=(0,e.internal_serializeStyles)(a);return a!==b&&b.styles?(b.styles.match(/^@layer\s+[^{]*$/)||(b.styles=`@layer global{${b.styles}}`),b):a}a.s(["default",0,function({styles:a,themeId:b,defaultTheme:e={}}){let h=(0,f.default)(e),i=b&&h[b]||h,j="function"==typeof a?a(i):a;return i.modularCssLayers&&(j=Array.isArray(j)?j.map(a=>"function"==typeof a?g(a(i)):g(a)):g(j)),(0,c.jsx)(d,{styles:j})}],55613)},35971,a=>{"use strict";a.i(72131);var b=a.i(5721),b=b,c=a.i(10231),d=a.i(21945);function e(){let a=(0,b.default)(c.default);return a[d.default]||a}a.s(["default",()=>e],35971)},59027,a=>{"use strict";var b=a.i(22844);a.i(35971);var c=a.i(55613),c=c,d=a.i(10231),e=a.i(21945),f=a.i(87924);let g=function(a){return(0,f.jsx)(c.default,{...a,defaultTheme:d.default,themeId:e.default})};function h(a){return function(b){return(0,f.jsx)(g,{styles:"function"==typeof a?c=>a({theme:c,...b}):a})}}function i(){return b.extendSxProp}a.s(["globalCss",()=>h,"internal_createExtendSxProp",()=>i],59027)},10976,80492,15375,17176,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(a,b=1e-6){return Math.ceil(a-b)}function e(a,b=1e-6){return Math.floor(a+b)}a.s(["ceilingWithThreshold",()=>d,"floorWithThreshold",()=>e],80492);class f{name;oxygen;helium;nitrogen;diveSettings;description;compositionDescription;maxDepthPO2;maxDepthPO2Deco;maxDepthEND;minDepth;maxDecoDepth;constructor(a,b,c,d,e){this.name=a,this.oxygen=b,this.helium=c,this.nitrogen=d,this.diveSettings=e,this.diveSettings.subscribeToChanges(()=>this.onDiveSettingsChanged()),this.updateDetails()}onDiveSettingsChanged(){this.updateDetails()}static create(a,b,c,d){let e=new f("Custom",a,b,c,d),g=f.StandardGases.find(a=>a.isEquivalent(e));return void 0!==g?new f(g.name,g.oxygen,g.helium,g.nitrogen,d):e}updateDetails(){this.description=this.calcDescription(),this.compositionDescription=this.calcCompositionDescription(),this.maxDepthPO2=this.calcMaxDepthPO2(),this.maxDepthPO2Deco=this.calcMaxDepthPO2Deco(),this.maxDepthEND=this.calcMaxDepthEND(),this.minDepth=this.calcMinDepth(),this.maxDecoDepth=this.calcMaxDecoDepth()}static StandardGases;static GenerateStandardGases(a){this.StandardGases=[new f("Air",21,0,79,a),new f("Nitrox 32",32,0,68,a),new f("Oxygen",100,0,0,a),new f("Helitrox 25/25",25,25,50,a),new f("Helitrox 21/35",21,35,44,a),new f("Trimix 18/45",18,45,37,a),new f("Trimix 15/55",15,55,30,a),new f("Trimix 12/60",12,60,28,a),new f("Trimix 10/70",10,70,20,a),new f("Nitrox 50",50,0,50,a),new f("Helitrox 35/25",35,25,40,a)]}static getOptimalDecoGas(a,b){let c=a/10+1,g=Math.min(100,e(100*b.decoPO2Maximum/c)),h=(b.ENDErrorThreshold/10+1)*79;b.isOxygenNarcotic&&(h=(b.ENDErrorThreshold/10+1)*100-g*c);let i=h/c,j=Math.max(0,d(100-g-i));return i=100-g-j,f.create(g,j,i,b)}calcDescription(){return`${this.name} (${this.calcCompositionDescription()})`}calcCompositionDescription(){return`O<sub>2</sub>: ${this.oxygen}%, He: ${this.helium}%, N<sub>2</sub>: ${this.nitrogen}%`}calcMaxDepthPO2(){return Math.floor(1e3*this.diveSettings.workingPO2Maximum/this.oxygen-10)}calcMaxDepthPO2Deco(){return Math.floor(1e3*this.diveSettings.decoPO2Maximum/this.oxygen-10)}calcMaxDepthEND(){return this.diveSettings.isOxygenNarcotic?Math.floor((this.diveSettings.ENDErrorThreshold+10)*100/(this.nitrogen+this.oxygen)-10):Math.floor(790*((this.diveSettings.ENDErrorThreshold+10)/10)/this.nitrogen-10)}calcMinDepth(){return Math.max(0,d(1e3*this.diveSettings.pO2Minimum/this.oxygen-10))}calcMaxDecoDepth(){return Math.min(this.calcMaxDepthPO2Deco(),this.calcMaxDepthEND())}getPO2(a){return(a/10+1)*(this.oxygen/100)}getPHe(a){return(a/10+1)*(this.helium/100)}getPN2(a){return(a/10+1)*(this.nitrogen/100)}getEND(a){return this.diveSettings.isOxygenNarcotic?Math.max(0,(this.getPN2(a)+this.getPO2(a)-1)*10):Math.max(0,(this.getPN2(a)/.79-1)*10)}isEquivalent(a){return this.oxygen===a.oxygen&&this.helium===a.helium&&this.nitrogen===a.nitrogen}}function g(a){let b=Math.floor(a/60),c=Math.round(a%60),d=`${b>0?b+" min":""}${c>0?" "+c+" sec":""}`;return d=d.trim(),b+c===0&&(d="0 sec "),d}function h(a){let b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60),d=Math.floor(a%60),e="";return b>0?(e+=b+":",e+=c<10?"0"+c:c,e+=":"):e+=c+":",e+=d<10?"0"+d:d}a.s(["BreathingGas",()=>f],15375),a.s(["colonDuration",()=>h,"humanDuration",()=>g],17176);class i{StartTimestamp;EndTimestamp;Title;Description;StartDepth;EndDepth;Gas;Icon;settings;constructor(a,b,c,d,e,f,g,h,i){this.StartTimestamp=a,this.EndTimestamp=b,this.Title=c,this.Description=d,this.StartDepth=e,this.EndDepth=f,this.Gas=g,this.Icon=h,this.settings=i}clone(){return new i(this.StartTimestamp,this.EndTimestamp,this.Title,this.Description,this.StartDepth,this.EndDepth,this.Gas,this.Icon,this.settings)}getDuration(){return this.EndTimestamp-this.StartTimestamp}getAverageDepth(){if(this.StartDepth===this.EndDepth)return this.StartDepth;let a=(this.StartDepth+this.EndDepth)/2,b=this.getTravelDuration(),c=this.getDuration()-b;return(a*b+this.EndDepth*c)/this.getDuration()}getDepth(a){if(a<=this.StartTimestamp)return this.StartDepth;if(a>=this.EndTimestamp)return this.EndDepth;let b=this.StartTimestamp+this.getTravelDuration();return a>=b?this.EndDepth:this.StartDepth+(this.EndDepth-this.StartDepth)*(a-this.StartTimestamp)/(b-this.StartTimestamp)}getTravelDuration(){if(this.StartDepth===this.EndDepth)return 0;if(this.StartDepth<this.EndDepth){let a=60/this.settings.descentRate;return Math.round((this.EndDepth-this.StartDepth)*a)}if(this.EndDepth<this.StartDepth){let a=60/this.settings.ascentRate;return Math.round((this.StartDepth-this.EndDepth)*a)}return 0}}class j{settings;constructor(a){this.settings=a}createEndDiveSegment(a,b,c){let d=this.getTravelTime(b,0),e=g(d);return new i(a,a+d,"Surface",`Ascent time: ${e} @ ${this.settings.ascentRate}m/min`,b,0,c,"done",this.settings)}createStartDiveSegment(a){return new i(0,0,"Start Dive",a.description,0,0,a,"scuba_diving",this.settings)}createDepthChangeSegment(a,b,c,d){let e=this.getTravelTime(b,c),f=a+e,h=c>b?`Descend to ${c}m`:`Ascend to ${c}m`,j=c>b?`Descent time: ${g(e)} @ ${this.settings.descentRate}m/min`:`Ascent time: ${g(e)} @ ${this.settings.ascentRate}m/min`,k=c>b?"arrow_downward":"arrow_upward";return new i(a,f,h,j,b,c,d,k,this.settings)}createGasChangeSegment(a,b,c){return new i(a,a,"Switch Gas",b.description,c,c,b,"air",this.settings)}createMaintainDepthSegment(a,b,c,d){let e=a+c;return new i(a,e,`Maintain Depth at ${b}m`,`Time: ${g(c)}`,b,b,d,"arrow_forward",this.settings)}getTravelTime(a,b){return b>a?Math.round((b-a)*(60/this.settings.descentRate)):Math.round((a-b)*(60/this.settings.ascentRate))}}class k{tissueNumber;n2HalfLife;a_n2;b_n2;heHalfLife;a_he;b_he;tissueByTime;n2DeltaMultiplier;heDeltaMultiplier;constructor(a,b,c,d,e,f,g){this.tissueNumber=a,this.n2HalfLife=b,this.a_n2=c,this.b_n2=d,this.heHalfLife=e,this.a_he=f,this.b_he=g,this.tissueByTime=new Map,this.n2DeltaMultiplier=0,this.heDeltaMultiplier=0,this.ENVIRONMENT_PN2=.79,this.ENVIRONMENT_PHE=0,this.MAX_NDL=18e3,this.tissueByTime.set(0,{PN2:this.ENVIRONMENT_PN2,PHe:this.ENVIRONMENT_PHE}),this.n2DeltaMultiplier=1-Math.pow(2,-(1/(60*b))),this.heDeltaMultiplier=1-Math.pow(2,-(1/(60*e)))}ENVIRONMENT_PN2;ENVIRONMENT_PHE;MAX_NDL;calculateForSegment(a){for(let b=a.StartTimestamp;b<=a.EndTimestamp;b++){let c=this.getTissueByTime(b-1).PN2,d=a.Gas.getPN2(a.getDepth(b)),e=this.getPN2Delta(c,d),f=this.getTissueByTime(b-1).PHe,g=a.Gas.getPHe(a.getDepth(b)),h=this.getPHeDelta(f,g);this.tissueByTime.set(b,{PN2:c+e,PHe:f+h})}}discardAfterTime(a){this.tissueByTime=new Map(Array.from(this.tissueByTime.entries()).filter(([b])=>b<=a))}clone(){let a=new k(this.tissueNumber,this.n2HalfLife,this.a_n2,this.b_n2,this.heHalfLife,this.a_he,this.b_he);return a.tissueByTime=new Map(this.tissueByTime),a}getInstantCeiling(a){let b=(this.getMValue(a)-1)*10;return b<0?0:b}getTimeToInstantCeiling(a,b){if(this.getInstantCeiling(this.tissueByTime.size-1)>0)return 0;let c=this.getInstantCeilingByPressures(b.getPN2(a),b.getPHe(a));if(0===c||isNaN(c))return;let e=this.getPN2(this.tissueByTime.size-1),f=this.getPHe(this.tissueByTime.size-1),g=0,h=this.MAX_NDL,i=(h-g)/2;for(;g<h;){let c=e+this.getPN2DeltaByTime(e,b.getPN2(a),i),j=f+this.getPHeDeltaByTime(f,b.getPHe(a),i);0>=this.getInstantCeilingByPressures(c,j)?g=i:h=i-1,i=d((h-g)/2)+g}if(!(i>=this.MAX_NDL))return Math.floor(i)}getPN2(a){return this.getTissueByTime(a).PN2}getPHe(a){return this.getTissueByTime(a).PHe}getInstantCeilingByPressures(a,b){let c=(this.getMValueByPressures(a,b)-1)*10;return c<0?0:c}getTissueByTime(a){return this.tissueByTime.get(a)??{PN2:0,PHe:0}}getPN2Delta(a,b){return this.getTissueDelta(a,b,this.n2DeltaMultiplier)}getPN2DeltaByTime(a,b,c){return this.getTissueDeltaByTime(a,b,this.n2HalfLife,c)}getPHeDelta(a,b){return this.getTissueDelta(a,b,this.heDeltaMultiplier)}getPHeDeltaByTime(a,b,c){return this.getTissueDeltaByTime(a,b,this.heHalfLife,c)}getTissueDelta(a,b,c){return(b-a)*c}getTissueDeltaByTime(a,b,c,d){return(b-a)*(1-Math.pow(2,-(d/(60*c))))}getAByPressures(a,b){return(a*this.a_n2+b*this.a_he)/(a+b)}getBByPressures(a,b){return(a*this.b_n2+b*this.b_he)/(a+b)}getMValue(a){return this.getMValueByPressures(this.getPN2(a),this.getPHe(a))}getMValueByPressures(a,b){return(a+b-this.getAByPressures(a,b))*this.getBByPressures(a,b)}}class l{tissues=[];constructor(){this.tissues.push(new k(1,5,1.1696,.5578,1.51,1.7474,.4245)),this.tissues.push(new k(2,8,1,.6514,3.02,1.383,.5747)),this.tissues.push(new k(3,12.5,.8618,.7222,4.72,1.1919,.6257)),this.tissues.push(new k(4,18.5,.7562,.7825,6.99,1.0458,.7223)),this.tissues.push(new k(5,27,.62,.8126,10.21,.922,.7582)),this.tissues.push(new k(6,38.3,.5043,.8434,14.48,.8205,.7957)),this.tissues.push(new k(7,54.3,.441,.8693,20.53,.7305,.8279)),this.tissues.push(new k(8,77,.4,.891,29.11,.6502,.8553)),this.tissues.push(new k(9,109,.375,.9092,41.2,.595,.8757)),this.tissues.push(new k(10,146,.35,.9222,55.19,.5545,.8903)),this.tissues.push(new k(11,187,.3295,.9319,70.69,.5333,.8997)),this.tissues.push(new k(12,239,.3065,.9403,90.34,.5189,.9073)),this.tissues.push(new k(13,305,.2835,.9477,115.29,.5181,.9122)),this.tissues.push(new k(14,390,.261,.9544,147.42,.5176,.9171)),this.tissues.push(new k(15,498,.248,.9602,188.24,.5172,.9217)),this.tissues.push(new k(16,635,.2327,.9653,240.03,.5119,.9267))}clone(){let a=new l;return a.tissues=this.tissues.map(a=>a.clone()),a}discardAfterTime(a){this.tissues.forEach(b=>b.discardAfterTime(a))}calculateForSegment(a){this.tissues.forEach(b=>b.calculateForSegment(a))}getInstantCeiling(a){return Math.max(...this.tissues.map(b=>b.getInstantCeiling(a)))}getTimeToInstantCeiling(a,b){let c=this.tissues.map(c=>c.getTimeToInstantCeiling(a,b)).filter(a=>void 0!==a);if(0!==c.length)return Math.min(...c)}getTissueInstantCeiling(a,b){return this.tissues[b-1].getInstantCeiling(a)}getTissuePN2(a,b){return this.tissues[b-1].getPN2(a)}getTissuePHe(a,b){return this.tissues[b-1].getPHe(a)}}class m{diveSettings;diveSegmentFactory;segments;algo;MAX_NDL;constructor(a,b){this.diveSettings=a,this.diveSegmentFactory=b,this.segments=[],this.algo=new l,this.MAX_NDL=18e3}addDiveSegment(a,b,c){this.removeLastSegment();let d=this.getLastSegment(),e=d.EndTimestamp;a!==d.EndDepth&&(this.addSegment(this.diveSegmentFactory.createDepthChangeSegment(e,d.EndDepth,a,d.Gas)),e=this.getTotalTime()),d.Gas.isEquivalent(b)||this.addSegment(this.diveSegmentFactory.createGasChangeSegment(e,b,a)),c>0&&(this.addSegment(this.diveSegmentFactory.createMaintainDepthSegment(e,a,c,b)),e=this.getTotalTime()),this.addSegment(this.diveSegmentFactory.createEndDiveSegment(e,a,b))}addChangeDepthSegment(a){this.removeLastSegment();let b=this.getLastSegment();this.addSegment(this.diveSegmentFactory.createDepthChangeSegment(b.EndTimestamp,b.EndDepth,a,b.Gas)),this.addSegment(this.diveSegmentFactory.createEndDiveSegment(this.getTotalTime(),a,b.Gas))}addChangeGasSegment(a){this.removeLastSegment();let b=this.getLastSegment();this.addSegment(this.diveSegmentFactory.createGasChangeSegment(b.EndTimestamp,a,b.EndDepth)),this.addSegment(this.diveSegmentFactory.createEndDiveSegment(this.getTotalTime(),b.EndDepth,a))}addMaintainDepthSegment(a){this.removeLastSegment();let b=this.getLastSegment();this.addSegment(this.diveSegmentFactory.createMaintainDepthSegment(b.EndTimestamp,b.EndDepth,a,b.Gas)),this.addSegment(this.diveSegmentFactory.createEndDiveSegment(this.getTotalTime(),b.EndDepth,b.Gas))}getCurrentDepth(){return this.getPreviousSegment().EndDepth}getTravelTime(a){return this.diveSegmentFactory.getTravelTime(this.getCurrentDepth(),a)}startDive(a){this.addSegment(this.diveSegmentFactory.createStartDiveSegment(a)),this.addSegment(this.diveSegmentFactory.createEndDiveSegment(0,0,a))}getCurrentGas(){return this.getPreviousSegment().Gas}getCurrentDiveTime(){return this.getPreviousSegment().EndTimestamp}getCurrentInstantCeiling(){let a=this.getPreviousSegment().EndTimestamp;return d(this.algo.getInstantCeiling(a))}getCurrentCeiling(){let a=this.getCurrentInstantCeiling();if(this.getCurrentDepth()<=a)return a;for(let a=this.getPreviousSegment().EndTimestamp;a<=this.getTotalTime();a++){let b=this.algo.getInstantCeiling(a);if(this.getDepth(a)<b)return d(this.getDepth(a-1))}return 0}getNewCeiling(a,b){let c=this.getWipProfile(a,this.getPreviousSegment().Gas,b);return c.addSegment(this.diveSegmentFactory.createEndDiveSegment(c.getTotalTime(),a,c.getLastSegment().Gas)),c.getCurrentCeiling()}getNewInstantCeiling(a,b){let c=this.getWipProfile(a,this.getPreviousSegment().Gas,b);return d(c.algo.getInstantCeiling(c.getTotalTime()))}getNoDecoLimit(a,b,c){let e=this.getWipProfile(a,b,c),f=e.algo.getTimeToInstantCeiling(a,b);if(void 0===f)return;e.addSegment(this.diveSegmentFactory.createMaintainDepthSegment(e.getTotalTime(),a,f,b));let g=0,h=200;for(e.canSurfaceWithoutStops()||(g=-f),e.extendLastSegment(h);e.canSurfaceWithoutStops()&&h<=this.MAX_NDL;)g=h,e.extendLastSegment(h),h*=2;if(h>this.MAX_NDL)return;let i=d((--h-g)/2)+g;for(e.shortenLastSegment(h+1-i);g<h;)e.canSurfaceWithoutStops()?(i=d((h-(g=i))/2)+g,e.extendLastSegment(i-g)):(i=d(((h=i-1)-g)/2)+g,e.shortenLastSegment(h+1-i));return f+g}getCeilingError(){let a=0,b=0;for(let c=0;c<this.getTotalTime();c++){let d=this.algo.getInstantCeiling(c),e=this.getDepth(c);e<d&&(a=Math.max(a,d-e),b++)}return{amount:a,duration:b}}getPO2Error(){let a=0,b=0;for(let c=0;c<this.getTotalTime();c++){let d=this.getPO2(c);d>this.diveSettings.decoPO2Maximum&&(a=Math.max(a,d),b++)}return{maxPO2:a,duration:b}}getHypoxicError(){let a=999,b=0;for(let c=0;c<this.getTotalTime();c++){let d=this.getPO2(c);d<this.diveSettings.pO2Minimum&&(a=Math.min(a,d),b++)}return{minPO2:a,duration:b}}getENDError(){let a=0,b=0;for(let c=0;c<this.getTotalTime();c++){let d=this.getEND(c);d>this.diveSettings.ENDErrorThreshold&&(a=Math.max(d,a),b++)}return{end:a,duration:b}}getMaxDepth(){return Math.max(...this.segments.map(a=>a.EndDepth))}getAverageDepth(){return 0===this.getTotalTime()?0:this.segments.reduce((a,b)=>a+b.getAverageDepth()*b.getDuration(),0)/this.getTotalTime()}getTotalTime(){return 0===this.segments.length?0:this.getLastSegment().EndTimestamp}addSegment(a){this.segments.push(a),this.algo.calculateForSegment(a)}getLastSegment(){return this.segments[this.segments.length-1]}getCurrentProfile(){let a=this.clone();return a.removeLastSegment(),a}getPO2(a){return this.getGas(a).getPO2(this.getDepth(a))}getPN2(a){return this.getGas(a).getPN2(this.getDepth(a))}getPHe(a){return this.getGas(a).getPHe(this.getDepth(a))}removeLastSegment(){this.segments.pop(),this.algo.discardAfterTime(this.getTotalTime())}extendLastSegment(a){this.getLastSegment().EndTimestamp+=a,this.algo.calculateForSegment(this.getLastSegment())}shortenLastSegment(a){this.getLastSegment().EndTimestamp-=a,this.algo.calculateForSegment(this.getLastSegment())}clone(){let a=new m(this.diveSettings,this.diveSegmentFactory);return a.algo=this.algo.clone(),a.segments=this.segments.map(a=>a.clone()),a}getPreviousSegment(){return this.segments[this.segments.length-2]}canSurfaceWithoutStops(){this.addSegment(this.diveSegmentFactory.createEndDiveSegment(this.getLastSegment().EndTimestamp,this.getLastSegment().EndDepth,this.getLastSegment().Gas));let a=0===this.getCeilingError().duration;return this.removeLastSegment(),a}getSegment(a){return this.segments.find(b=>b.EndTimestamp>a&&b.StartTimestamp<=a)??this.getLastSegment()}getGas(a){return this.getSegment(a).Gas}getDepth(a){return this.getSegment(a).getDepth(a)}getEND(a){return this.diveSettings.isOxygenNarcotic?(this.getPN2(a)+this.getPO2(a)-1)*10:(this.getPN2(a)/.79-1)*10}getWipProfile(a,b,c){let d=this.getCurrentProfile(),e=d.getLastSegment().EndDepth,f=d.getLastSegment().Gas;return a!==e&&(d.addSegment(this.diveSegmentFactory.createDepthChangeSegment(d.getTotalTime(),e,a,f)),e=a),b!==f&&(d.addSegment(this.diveSegmentFactory.createGasChangeSegment(d.getTotalTime(),b,a)),f=b),c>0&&d.addSegment(this.diveSegmentFactory.createMaintainDepthSegment(d.getTotalTime(),a,c,b)),d}}class n{diveSegmentFactory;diveSettings;constructor(a,b){this.diveSegmentFactory=a,this.diveSettings=b}getDepthChartData(a){let b=[];for(let c of a.segments)for(let a=c.StartTimestamp;a<=c.EndTimestamp;a++)b.push({time:a,depth:c.getDepth(a),ceiling:0});for(let c of b)c.ceiling=a.algo.getInstantCeiling(c.time);return b}getPO2ChartData(a){let b=[];for(let c of a.segments)for(let a=c.StartTimestamp;a<=c.EndTimestamp;a++)b.push({time:a,pO2:c.Gas.getPO2(c.getDepth(a)),decoLimit:this.diveSettings.decoPO2Maximum,limit:this.diveSettings.workingPO2Maximum,min:this.diveSettings.pO2Minimum});return b}getENDChartData(a){let b=[];for(let c of a.segments)for(let a=c.StartTimestamp;a<=c.EndTimestamp;a++)b.push({time:a,end:c.Gas.getEND(c.getDepth(a)),errorLimit:this.diveSettings.ENDErrorThreshold});return b}getTissuesCeilingChartData(a){let b=[];for(let c of a.segments)for(let d=c.StartTimestamp;d<=c.EndTimestamp;d++){let e=[];for(let b=1;b<=16;b++)e.push(a.algo.getTissueInstantCeiling(d,b));b.push({time:d,depth:c.getDepth(d),tissuesCeiling:e})}return b}getTissuesPN2ChartData(a){let b=[];for(let c=0;c<=a.getTotalTime();c++){let d=[];for(let b=1;b<=16;b++)d.push(a.algo.getTissuePN2(c,b));b.push({time:c,gasPN2:a.getPN2(c),tissuesPN2:d})}return b}getTissuesPHeChartData(a){let b=[];for(let c=0;c<=a.getTotalTime();c++){let d=[];for(let b=1;b<=16;b++)d.push(a.algo.getTissuePHe(c,b));b.push({time:c,gasPHe:a.getPHe(c),tissuesPHe:d})}return b}getCeilingChartData(a,b,c){let d=[],e=c.getCurrentProfile();e.addSegment(this.diveSegmentFactory.createDepthChangeSegment(e.getTotalTime(),c.getCurrentDepth(),a,c.getCurrentGas()));let f=e.getTotalTime();e.addSegment(this.diveSegmentFactory.createMaintainDepthSegment(e.getTotalTime(),a,7200,b));for(let a=f;a<f+7200;a++)d.push({time:a-f,ceiling:e.algo.getInstantCeiling(a)});return d}}class o{settings;diveID;diveProfile;chartGenerator;diveSegmentFactory;constructor(a){this.settings=a,this.diveID=crypto.randomUUID(),this.diveSegmentFactory=new j(a),this.chartGenerator=new n(this.diveSegmentFactory,a),this.diveProfile=new m(a,this.diveSegmentFactory),f.GenerateStandardGases(a)}getStandardGases(){return f.StandardGases}startDive(a){this.diveProfile=new m(this.settings,this.diveSegmentFactory),this.diveProfile.startDive(a),this.diveID=crypto.randomUUID()}getDiveSegments(){return this.diveProfile.segments}getDiveDuration(){return this.diveProfile.getTotalTime()}getMaxDepth(){return this.diveProfile.getMaxDepth()}getAverageDepth(){return this.diveProfile.getAverageDepth()}getCurrentDepth(){return this.diveProfile.getCurrentDepth()}getOptimalDecoGas(a){return f.getOptimalDecoGas(a,this.settings)}getCurrentCeiling(){return this.diveProfile.getCurrentCeiling()}getCurrentInstantCeiling(){return this.diveProfile.getCurrentInstantCeiling()}getCurrentGas(){return this.diveProfile.getCurrentGas()}getCurrentDiveTime(){return this.diveProfile.getCurrentDiveTime()}getNoDecoLimit(a,b,c){return this.diveProfile.getNoDecoLimit(a,b,c)}addChangeDepthSegment(a){this.diveProfile.addChangeDepthSegment(a)}addChangeGasSegment(a){this.diveProfile.addChangeGasSegment(a)}addMaintainDepthSegment(a){this.diveProfile.addMaintainDepthSegment(a)}getTravelTime(a){return this.diveProfile.getTravelTime(a)}getDepthChartData(){return this.chartGenerator.getDepthChartData(this.diveProfile)}getPO2ChartData(){return this.chartGenerator.getPO2ChartData(this.diveProfile)}getENDChartData(){return this.chartGenerator.getENDChartData(this.diveProfile)}getTissuesCeilingChartData(){return this.chartGenerator.getTissuesCeilingChartData(this.diveProfile)}getTissuesPN2ChartData(){return this.chartGenerator.getTissuesPN2ChartData(this.diveProfile)}getTissuesPHeChartData(){return this.chartGenerator.getTissuesPHeChartData(this.diveProfile)}getCeilingChartData(a,b){return this.chartGenerator.getCeilingChartData(a,b,this.diveProfile)}getNewCeiling(a,b){return this.diveProfile.getNewCeiling(a,b)}getNewInstantCeiling(a,b){return this.diveProfile.getNewInstantCeiling(a,b)}getCeilingError(){return this.diveProfile.getCeilingError()}getPO2Error(){return this.diveProfile.getPO2Error()}getHypoxicError(){return this.diveProfile.getHypoxicError()}getENDError(){return this.diveProfile.getENDError()}getPO2WarningMessage(a){if(a>this.settings.workingPO2Maximum&&a<=this.settings.decoPO2Maximum)return`Oxygen partial pressure should only go above ${this.settings.workingPO2Maximum} during deco stops`}getPO2ErrorMessage(a){return a>this.settings.decoPO2Maximum?`Oxygen partial pressure should never go above ${this.settings.decoPO2Maximum}`:a<this.settings.pO2Minimum?`Oxygen partial pressure should never go below ${this.settings.pO2Minimum}`:void 0}getENDErrorMessage(a){if(a>this.settings.ENDErrorThreshold)return this.settings.ENDErrorMessage}}class p{_ascentRate=10;_descentRate=20;_isOxygenNarcotic=!0;_workingPO2Maximum=1.4;_decoPO2Maximum=1.6;_pO2Minimum=.18;_ENDErrorThreshold=30;_subscribers=[];subscribeToChanges(a){this._subscribers.push(a)}onSettingChange(){this._subscribers.forEach(a=>a())}set ascentRate(a){this._ascentRate=a,this.onSettingChange()}get ascentRate(){return this._ascentRate}set descentRate(a){this._descentRate=a,this.onSettingChange()}get descentRate(){return this._descentRate}set isOxygenNarcotic(a){this._isOxygenNarcotic=a,this.onSettingChange()}get isOxygenNarcotic(){return this._isOxygenNarcotic}set workingPO2Maximum(a){this._workingPO2Maximum=a,this.onSettingChange()}get workingPO2Maximum(){return this._workingPO2Maximum}set decoPO2Maximum(a){this._decoPO2Maximum=a,this.onSettingChange()}get decoPO2Maximum(){return this._decoPO2Maximum}get pO2Minimum(){return this._pO2Minimum}set pO2Minimum(a){this._pO2Minimum=a,this.onSettingChange()}set ENDErrorThreshold(a){this._ENDErrorThreshold=a,this.onSettingChange()}get ENDErrorThreshold(){return this._ENDErrorThreshold}get ENDErrorMessage(){return`END is above the configured error threshold of ${this._ENDErrorThreshold}m`}get MaxDepthPO2Tooltip(){return`Maximum depth this gas can be breathed at without going over an oxygen partial pressure of ${this.workingPO2Maximum} (${this.decoPO2Maximum} for deco stops)`}get MaxDepthENDTooltip(){return`Maximum depth this gas can be breathed at before you experience narcosis equivalent to ${this._ENDErrorThreshold}m on air`}get MinDepthTooltip(){return`Minimum depth this gas can be breathed at before you experience hypoxia (PO2 < ${this.pO2Minimum})`}}let q=(0,c.createContext)(void 0);function r({children:a}){let[d,e]=(0,c.useState)(0),f=(0,c.useMemo)(()=>new o(new p),[]),g=(0,c.useCallback)(()=>{e(a=>a+1)},[]),h=(0,c.useCallback)((a,b)=>{let c=f.settings;switch(a){case"descentRate":c.descentRate=b;break;case"ascentRate":c.ascentRate=b;break;case"isOxygenNarcotic":c.isOxygenNarcotic=b;break;case"workingPO2Maximum":c.workingPO2Maximum=b;break;case"decoPO2Maximum":c.decoPO2Maximum=b;break;case"pO2Minimum":c.pO2Minimum=b;break;case"ENDErrorThreshold":c.ENDErrorThreshold=b}e(a=>a+1)},[f]),i=(0,c.useMemo)(()=>({divePlanner:f,updateTrigger:d,forceUpdate:g,updateSetting:h}),[f,d,g,h]);return(0,b.jsx)(q.Provider,{value:i,children:a})}function s(){let a=(0,c.useContext)(q);if(void 0===a)throw Error("useDivePlanner must be used within a DivePlannerProvider");return a}function t(){let{divePlanner:a,forceUpdate:b}=s();return(0,c.useCallback)(c=>{a.startDive(c),b()},[a,b])}function u(){let{divePlanner:a,forceUpdate:b}=s();return(0,c.useCallback)(c=>{a.addChangeDepthSegment(c),b()},[a,b])}function v(){let{divePlanner:a,forceUpdate:b}=s();return(0,c.useCallback)(c=>{a.addChangeGasSegment(c),b()},[a,b])}function w(){let{divePlanner:a,forceUpdate:b}=s();return(0,c.useCallback)(c=>{a.addMaintainDepthSegment(c),b()},[a,b])}a.s(["DivePlannerProvider",()=>r,"useAddChangeDepthSegment",()=>u,"useAddChangeGasSegment",()=>v,"useAddMaintainDepthSegment",()=>w,"useDivePlanner",()=>s,"useStartDive",()=>t],10976)}];

//# sourceMappingURL=_11364975._.js.map