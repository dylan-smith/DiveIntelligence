module.exports=[38718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(24089),f=a.i(77940),g=a.i(19470),h=a.i(38246),i=a.i(47124),j=a.i(6247),k=a.i(41683),l=a.i(75523),m=a.i(41484),m=m,n=a.i(16941),n=n,o=a.i(98621),p=a.i(36472),q=a.i(52506),r=a.i(74443),s=a.i(25054),t=a.i(33115),u=a.i(84275),v=a.i(26893),w=a.i(18843),x=a.i(7049),y=a.i(14912),y=y,z=a.i(76807),z=z,A=a.i(27459),A=A,B=a.i(68604),C=a.i(29297);function D(a){return(0,C.default)("MuiMenuItem",a)}let E=(0,B.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),F=(0,r.styled)(v.default,{shouldForwardProp:a=>(0,q.default)(a)||"classes"===a,name:"MuiMenuItem",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.dense&&b.dense,c.divider&&b.divider,!c.disableGutters&&b.gutters]}})((0,s.default)(({theme:a})=>({...a.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.selected}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity),[`&.${E.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)}},[`&.${E.selected}:hover`]:{backgroundColor:a.alpha((a.vars||a).palette.primary.main,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:a.alpha((a.vars||a).palette.primary.main,(a.vars||a).palette.action.selectedOpacity)}},[`&.${E.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${E.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity},[`& + .${y.default.root}`]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},[`& + .${y.default.inset}`]:{marginLeft:52},[`& .${A.default.root}`]:{marginTop:0,marginBottom:0},[`& .${A.default.inset}`]:{paddingLeft:36},[`& .${z.default.root}`]:{minWidth:36},variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:a})=>!a.dense,style:{[a.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:a})=>a.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...a.typography.body2,[`& .${z.default.root} svg`]:{fontSize:"1.25rem"}}}]}))),G=c.forwardRef(function(a,d){let e,f=(0,t.useDefaultProps)({props:a,name:"MuiMenuItem"}),{autoFocus:g=!1,component:h="li",dense:i=!1,divider:j=!1,disableGutters:k=!1,focusVisibleClassName:l,role:m="menuitem",tabIndex:n,className:q,...r}=f,s=c.useContext(u.default),v=c.useMemo(()=>({dense:i||s.dense||!1,disableGutters:k}),[s.dense,i,k]),y=c.useRef(null);(0,w.default)(()=>{g&&y.current&&y.current.focus()},[g]);let z={...f,dense:v.dense,divider:j,disableGutters:k},A=(a=>{let{disabled:b,dense:c,divider:d,disableGutters:e,selected:f,classes:g}=a,h=(0,p.default)({root:["root",c&&"dense",b&&"disabled",!e&&"gutters",d&&"divider",f&&"selected"]},D,g);return{...g,...h}})(f),B=(0,x.default)(y,d);return f.disabled||(e=void 0!==n?n:-1),(0,b.jsx)(u.default.Provider,{value:v,children:(0,b.jsx)(F,{ref:B,role:m,tabIndex:e,component:h,focusVisibleClassName:(0,o.default)(A.focusVisible,l),className:(0,o.default)(A.root,q),...r,ownerState:z,classes:A})})});var H=a.i(8325),I=a.i(7946),J=a.i(75770),K=a.i(15375),L=a.i(10976);function M({onNewGasSelected:a}){let{divePlanner:d}=(0,L.useDivePlanner)(),f=d.settings,[h,i]=(0,c.useState)("current"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(K.BreathingGas.create(21,0,79,f)),s=d.getCurrentGas(),t=d.getStandardGases(),u=d.getOptimalDecoGas(d.getCurrentDepth()),v=(0,c.useCallback)((b,c,d)=>{let e=s;"standard"===b&&""!==c&&t[c]?e=t[c]:"custom"===b?e=d:"optimal"===b&&(e=u),a(e)},[s,t,u,a]),w=(0,c.useCallback)(b=>{r(b),"custom"===h&&a(b)},[h,a]),x="standard"!==h,y="custom"!==h;return(0,b.jsx)(I.Paper,{elevation:2,sx:{p:2},children:(0,b.jsx)(m.default,{component:"fieldset",children:(0,b.jsx)(k.RadioGroup,{value:h,onChange:a=>{let b=a.target.value;i(b),v(b,o,q)},children:(0,b.jsxs)(e.Box,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:[(0,b.jsxs)(e.Box,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,b.jsx)(l.FormControlLabel,{value:"current",control:(0,b.jsx)(j.Radio,{}),label:(0,b.jsxs)(e.Box,{children:[(0,b.jsx)("div",{children:"Current Gas"}),(0,b.jsx)(g.Typography,{variant:"body2",color:"textSecondary",dangerouslySetInnerHTML:{__html:s.description}})]})}),(0,b.jsx)(H.Tooltip,{title:`The gas with the maximum O2 while staying under ${f.decoPO2Maximum} PO2, and the minimum Helium while staying at an END (Equivalent Narcotic Depth) of <= ${f.ENDErrorThreshold}m`,children:(0,b.jsx)(l.FormControlLabel,{value:"optimal",control:(0,b.jsx)(j.Radio,{}),label:(0,b.jsxs)(e.Box,{children:[(0,b.jsx)("div",{children:"Optimal Deco Gas"}),(0,b.jsx)(g.Typography,{variant:"body2",color:"textSecondary",dangerouslySetInnerHTML:{__html:u.description}})]})})})]}),(0,b.jsxs)(e.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,b.jsx)(l.FormControlLabel,{value:"standard",control:(0,b.jsx)(j.Radio,{}),label:"Standard Gas"}),(0,b.jsxs)(n.default,{value:o,onChange:a=>{let b=a.target.value;p(b),v(h,b,q)},disabled:x,displayEmpty:!0,size:"small",sx:{minWidth:200},children:[(0,b.jsx)(G,{value:"",disabled:!0,children:"Select a gas"}),t.map((a,c)=>(0,b.jsx)(G,{value:c,children:(0,b.jsxs)(e.Box,{children:[(0,b.jsx)("div",{children:a.name}),(0,b.jsx)(g.Typography,{variant:"body2",color:"textSecondary",dangerouslySetInnerHTML:{__html:a.compositionDescription}})]})},c))]})]}),(0,b.jsxs)(e.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,b.jsx)(l.FormControlLabel,{value:"custom",control:(0,b.jsx)(j.Radio,{}),label:"Custom gas"}),(0,b.jsx)(J.default,{disabled:y,onGasChanged:w})]})]})})})})}var N=a.i(84338),O=a.i(37446),P=a.i(17176),Q=a.i(80492);function R({newGas:a}){let{divePlanner:d,updateTrigger:f}=(0,L.useDivePlanner)(),h=d.settings,i=d.getCurrentDepth(),j=(0,c.useMemo)(()=>{let b,c=a.getPO2(i),e=(0,Q.ceilingWithThreshold)(a.getEND(i));return{newGasPO2:c,hasNewGasPO2Warning:void 0!==d.getPO2WarningMessage(c),hasNewGasPO2Error:void 0!==d.getPO2ErrorMessage(c),newGasPO2Warning:d.getPO2WarningMessage(c),newGasPO2Error:d.getPO2ErrorMessage(c),newGasEND:e,hasNewGasENDError:void 0!==d.getENDErrorMessage(e),newGasENDError:d.getENDErrorMessage(e),noDecoLimit:void 0===(b=d.getNoDecoLimit(i,a,0))?"> 5 hours":(0,P.humanDuration)(b)}},[a,i,d,f]);return(0,b.jsx)(I.Paper,{elevation:2,sx:{p:2},children:(0,b.jsxs)(e.Box,{sx:{display:"flex",gap:4,flexWrap:"wrap"},children:[(0,b.jsxs)(e.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,b.jsxs)(e.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(H.Tooltip,{title:"Oxygen partial pressure of the new gas at the current depth",placement:"top",children:(0,b.jsxs)(g.Typography,{children:["PO",(0,b.jsx)("sub",{children:"2"}),": ",(0,b.jsx)("strong",{children:j.newGasPO2.toFixed(2)})]})}),j.hasNewGasPO2Warning&&(0,b.jsx)(H.Tooltip,{title:j.newGasPO2Warning,placement:"right",children:(0,b.jsx)(N.default,{color:"warning"})}),j.hasNewGasPO2Error&&(0,b.jsx)(H.Tooltip,{title:j.newGasPO2Error,placement:"right",children:(0,b.jsx)(O.default,{color:"error"})})]}),(0,b.jsxs)(e.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(H.Tooltip,{title:"Equivalent narcotic depth of the new gas at the current depth",placement:"top",children:(0,b.jsxs)(g.Typography,{children:["END: ",(0,b.jsxs)("strong",{children:[j.newGasEND,"m"]})]})}),j.hasNewGasENDError&&(0,b.jsx)(H.Tooltip,{title:j.newGasENDError,placement:"right",children:(0,b.jsx)(O.default,{color:"error"})})]}),(0,b.jsx)(H.Tooltip,{title:"The amount of time you can stay at the current depth on the new gas and safely ascend directly to the surface (Note: this takes into account off-gassing that occurs during ascent)",placement:"right",children:(0,b.jsxs)(g.Typography,{children:["No Deco Limit: ",(0,b.jsx)("strong",{children:j.noDecoLimit})]})})]}),(0,b.jsxs)(e.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,b.jsx)(H.Tooltip,{title:h.MaxDepthPO2Tooltip,placement:"right",children:(0,b.jsxs)(g.Typography,{children:["Max Depth (PO",(0,b.jsx)("sub",{children:"2"}),"): ",(0,b.jsxs)("strong",{children:[a.maxDepthPO2,"m (",a.maxDepthPO2Deco,"m deco)"]})]})}),(0,b.jsx)(H.Tooltip,{title:h.MaxDepthENDTooltip,placement:"right",children:(0,b.jsxs)(g.Typography,{children:["Max Depth (END): ",(0,b.jsxs)("strong",{children:[a.maxDepthEND,"m"]})]})}),(0,b.jsx)(H.Tooltip,{title:h.MinDepthTooltip,placement:"right",children:(0,b.jsxs)(g.Typography,{children:["Min Depth (Hypoxia): ",(0,b.jsxs)("strong",{children:[a.minDepth,"m"]})]})})]})]})})}function S(){let a=(0,d.useRouter)(),{divePlanner:j}=(0,L.useDivePlanner)(),k=(0,L.useAddChangeGasSegment)(),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{!l&&j&&m(j.getCurrentGas())},[j,l]);let n=(0,c.useCallback)(a=>{m(a)},[]);return l?(0,b.jsx)(e.Box,{component:"main",sx:{p:3},children:(0,b.jsxs)(e.Box,{sx:{maxWidth:800},children:[(0,b.jsx)(i.default,{}),(0,b.jsx)(g.Typography,{variant:"h5",sx:{my:2},children:"Select new gas"}),(0,b.jsx)(M,{onNewGasSelected:n}),(0,b.jsx)(e.Box,{sx:{mt:2},children:(0,b.jsx)(R,{newGas:l})}),(0,b.jsxs)(e.Box,{sx:{display:"flex",gap:2,mt:2},children:[(0,b.jsx)(f.Button,{variant:"contained",color:"primary",onClick:()=>{l&&(k(l),a.push("/dive-overview"))},children:"Save"}),(0,b.jsx)(f.Button,{variant:"outlined",component:h.default,href:"/dive-overview",children:"Cancel"})]})]})}):(0,b.jsx)(e.Box,{component:"main",sx:{p:3},children:"Loading..."})}a.s(["default",()=>S],38718)}];

//# sourceMappingURL=app_change-gas_page_tsx_acadfb24._.js.map