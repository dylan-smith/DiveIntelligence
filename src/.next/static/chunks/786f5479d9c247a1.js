(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},80558,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(18566),r=e.i(76552),s=e.i(34251),a=e.i(69437),l=e.i(66796),o=e.i(32963),c=e.i(22016),h=e.i(37148),d=e.i(42669),g=e.i(21996),p=e.i(41015),x=e.i(71870),u=e.i(548),m=e.i(21980);function j({newDepth:e}){let n,{divePlanner:i}=(0,x.useDivePlanner)(),s=i.settings;if(!i||i.getDiveSegments().length<2)return(0,t.jsx)(o.Paper,{elevation:2,sx:{p:2},children:(0,t.jsx)(l.Typography,{children:"No active dive."})});let a=i.getCurrentGas(),c=i.getCurrentDepth(),h=i.getTravelTime(e),j=e>=c,y=a.getPO2(e),f=(0,m.ceilingWithThreshold)(a.getEND(e)),v=void 0!==i.getPO2WarningMessage(y),T=void 0!==i.getPO2ErrorMessage(y),D=void 0!==i.getENDErrorMessage(f),P=i.getNewCeiling(e,0),w=i.getNewInstantCeiling(e,0);return(0,t.jsx)(o.Paper,{elevation:2,sx:{p:2},children:(0,t.jsxs)(r.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[j?(0,t.jsxs)(l.Typography,{children:["Descent Time: ",(0,t.jsxs)("strong",{children:[(0,u.humanDuration)(h)," @ ",s.descentRate,"m/min"]})]}):(0,t.jsxs)(l.Typography,{children:["Ascent Time: ",(0,t.jsxs)("strong",{children:[(0,u.humanDuration)(h)," @ ",s.ascentRate,"m/min"]})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(d.Tooltip,{title:"Oxygen partial pressure of the current gas at the new depth",placement:"top",children:(0,t.jsxs)(l.Typography,{children:["PO",(0,t.jsx)("sub",{children:"2"}),": ",(0,t.jsx)("strong",{children:y.toFixed(2)})]})}),v&&(0,t.jsx)(d.Tooltip,{title:i.getPO2WarningMessage(y),placement:"right",children:(0,t.jsx)(g.default,{color:"warning"})}),T&&(0,t.jsx)(d.Tooltip,{title:i.getPO2ErrorMessage(y),placement:"right",children:(0,t.jsx)(p.default,{color:"error"})})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(d.Tooltip,{title:"Equivalent narcotic depth of the current gas at the new depth",placement:"top",children:(0,t.jsxs)(l.Typography,{children:["END: ",(0,t.jsxs)("strong",{children:[f,"m"]})]})}),D&&(0,t.jsx)(d.Tooltip,{title:i.getENDErrorMessage(f),placement:"right",children:(0,t.jsx)(p.default,{color:"error"})})]}),(0,t.jsx)(d.Tooltip,{title:"The amount of time you can stay at the new depth on the current gas and safely ascend directly to the surface (Note: this takes into account off-gassing that occurs during ascent)",placement:"right",children:(0,t.jsxs)(l.Typography,{children:["No Deco Limit: ",(0,t.jsx)("strong",{children:void 0===(n=i.getNoDecoLimit(e,a,0))?"> 5 hours":(0,u.humanDuration)(n)})]})}),(0,t.jsx)(d.Tooltip,{title:`The shallowest depth you can safely ascend directly to. This takes into account any on/off-gassing that may occur during the ascent. (Instantaneous Ceiling = ${w}m)`,placement:"right",children:(0,t.jsxs)(l.Typography,{children:["Ceiling: ",(0,t.jsxs)("strong",{children:[P,"m"]})]})})]})})}function y(){let e=(0,i.useRouter)(),{divePlanner:d}=(0,x.useDivePlanner)(),g=(0,x.useAddChangeDepthSegment)(),p=(0,n.useMemo)(()=>d&&d.getDiveSegments().length>0?d.getCurrentDepth():0,[d]),[u,m]=(0,n.useState)(p);return(0,t.jsx)(r.Box,{component:"main",sx:{p:3},children:(0,t.jsxs)(r.Box,{sx:{maxWidth:600},children:[(0,t.jsx)(h.default,{}),(0,t.jsx)(l.Typography,{variant:"h5",sx:{my:2},children:"Select new depth"}),(0,t.jsx)(r.Box,{sx:{mb:2},children:(0,t.jsx)(o.Paper,{elevation:2,sx:{p:2},children:(0,t.jsx)(a.TextField,{label:"New Depth (m)",type:"number",value:u,onChange:e=>{m(Math.max(0,parseInt(e.target.value)||0))},inputProps:{min:0},fullWidth:!0})})}),(0,t.jsx)(j,{newDepth:u}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:2,mt:2},children:[(0,t.jsx)(s.Button,{variant:"contained",color:"primary",onClick:()=>{g(u),e.push("/dive-overview")},children:"Save"}),(0,t.jsx)(s.Button,{variant:"outlined",component:c.default,href:"/dive-overview",children:"Cancel"})]})]})})}e.s(["default",()=>y],80558)}]);