(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},80558,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(18566),r=e.i(76552),s=e.i(34251),a=e.i(69437),o=e.i(66796),l=e.i(32963),c=e.i(22016),h=e.i(37148),g=e.i(42669),d=e.i(21996),p=e.i(41015),u=e.i(71870),x=e.i(548),m=e.i(21980);function j({newDepth:e}){let{divePlanner:i,updateTrigger:s}=(0,u.useDivePlanner)(),a=i.settings,c=(0,n.useMemo)(()=>{let t,n=i.getCurrentGas(),r=i.getCurrentDepth(),s=i.getTravelTime(e),o=e>=r,l=n.getPO2(e),c=(0,m.ceilingWithThreshold)(n.getEND(e));return{travelTime:s,descentRate:a.descentRate,ascentRate:a.ascentRate,isDescent:o,isAscent:!o,PO2:l,hasPO2Warning:void 0!==i.getPO2WarningMessage(l),hasPO2Error:void 0!==i.getPO2ErrorMessage(l),PO2WarningMessage:i.getPO2WarningMessage(l),PO2ErrorMessage:i.getPO2ErrorMessage(l),END:c,hasENDError:void 0!==i.getENDErrorMessage(c),ENDErrorMessage:i.getENDErrorMessage(c),noDecoLimit:void 0===(t=i.getNoDecoLimit(e,n,0))?"> 5 hours":(0,x.humanDuration)(t),ceiling:i.getNewCeiling(e,0),instantCeiling:i.getNewInstantCeiling(e,0)}},[e,i,a,s]);return(0,t.jsx)(l.Paper,{elevation:2,sx:{p:2},children:(0,t.jsxs)(r.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[c.isDescent?(0,t.jsxs)(o.Typography,{children:["Descent Time: ",(0,t.jsxs)("strong",{children:[(0,x.humanDuration)(c.travelTime)," @ ",c.descentRate,"m/min"]})]}):(0,t.jsxs)(o.Typography,{children:["Ascent Time: ",(0,t.jsxs)("strong",{children:[(0,x.humanDuration)(c.travelTime)," @ ",c.ascentRate,"m/min"]})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(g.Tooltip,{title:"Oxygen partial pressure of the current gas at the new depth",placement:"top",children:(0,t.jsxs)(o.Typography,{children:["PO",(0,t.jsx)("sub",{children:"2"}),": ",(0,t.jsx)("strong",{children:c.PO2.toFixed(2)})]})}),c.hasPO2Warning&&(0,t.jsx)(g.Tooltip,{title:c.PO2WarningMessage,placement:"right",children:(0,t.jsx)(d.default,{color:"warning"})}),c.hasPO2Error&&(0,t.jsx)(g.Tooltip,{title:c.PO2ErrorMessage,placement:"right",children:(0,t.jsx)(p.default,{color:"error"})})]}),(0,t.jsxs)(r.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(g.Tooltip,{title:"Equivalent narcotic depth of the current gas at the new depth",placement:"top",children:(0,t.jsxs)(o.Typography,{children:["END: ",(0,t.jsxs)("strong",{children:[c.END,"m"]})]})}),c.hasENDError&&(0,t.jsx)(g.Tooltip,{title:c.ENDErrorMessage,placement:"right",children:(0,t.jsx)(p.default,{color:"error"})})]}),(0,t.jsx)(g.Tooltip,{title:"The amount of time you can stay at the new depth on the current gas and safely ascend directly to the surface (Note: this takes into account off-gassing that occurs during ascent)",placement:"right",children:(0,t.jsxs)(o.Typography,{children:["No Deco Limit: ",(0,t.jsx)("strong",{children:c.noDecoLimit})]})}),(0,t.jsx)(g.Tooltip,{title:`The shallowest depth you can safely ascend directly to. This takes into account any on/off-gassing that may occur during the ascent. (Instantaneous Ceiling = ${c.instantCeiling}m)`,placement:"right",children:(0,t.jsxs)(o.Typography,{children:["Ceiling: ",(0,t.jsxs)("strong",{children:[c.ceiling,"m"]})]})})]})})}function y(){let e=(0,i.useRouter)(),{divePlanner:g}=(0,u.useDivePlanner)(),d=(0,u.useAddChangeDepthSegment)(),[p,x]=(0,n.useState)(g.getCurrentDepth());return(0,t.jsx)(r.Box,{component:"main",sx:{p:3},children:(0,t.jsxs)(r.Box,{sx:{maxWidth:600},children:[(0,t.jsx)(h.default,{}),(0,t.jsx)(o.Typography,{variant:"h5",sx:{my:2},children:"Select new depth"}),(0,t.jsx)(r.Box,{sx:{mb:2},children:(0,t.jsx)(l.Paper,{elevation:2,sx:{p:2},children:(0,t.jsx)(a.TextField,{label:"New Depth (m)",type:"number",value:p,onChange:e=>{x(Math.max(0,parseInt(e.target.value)||0))},inputProps:{min:0},fullWidth:!0})})}),(0,t.jsx)(j,{newDepth:p}),(0,t.jsxs)(r.Box,{sx:{display:"flex",gap:2,mt:2},children:[(0,t.jsx)(s.Button,{variant:"contained",color:"primary",onClick:()=>{d(p),e.push("/dive-overview")},children:"Save"}),(0,t.jsx)(s.Button,{variant:"outlined",component:c.default,href:"/dive-overview",children:"Cancel"})]})]})})}e.s(["default",()=>y],80558)}]);