(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},98020,e=>{"use strict";var t=e.i(40672),i=e.i(19727);function r(e){return(0,i.default)("MuiDivider",e)}let n=(0,t.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);e.s(["default",0,n,"getDividerUtilityClass",()=>r])},67585,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=e.r(32061);function n({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,i)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"PreloadChunks",{enumerable:!0,get:function(){return s}});let r=e.r(43476),n=e.r(74080),l=e.r(63599),a=e.r(9885),o=e.r(43369);function s({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let i=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;i.push(...e)}}if(0===i.length)return null;let s=(0,o.getDeploymentIdQueryOrEmptyString)();return(0,r.jsx)(r.Fragment,{children:i.map(e=>{let i=`${t.assetPrefix}/_next/${(0,a.encodeURIPath)(e)}${s}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:i,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(i,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),n=e.r(71645),l=e.r(67585),a=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let s={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...s,...e},i=(0,n.lazy)(()=>t.loader().then(o)),d=t.loading;function c(e){let o=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,c=s?n.Suspense:n.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(a.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(i,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(i,{...e})});return(0,r.jsx)(c,{...s?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return n}});let r=e.r(55682)._(e.r(69093));function n(e,t){let i={};"function"==typeof e&&(i.loader=e);let n={...i,...t};return(0,r.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},39765,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(18566),n=e.i(76552),l=e.i(34251),a=e.i(69437),o=e.i(66796),s=e.i(32963),d=e.i(22016),c=e.i(37148),u=e.i(42669);e.i(47167);var p=e.i(7670),h=e.i(19130),f=e.i(40799),g=e.i(75149),m=e.i(94425),x=e.i(98020);let y=(0,f.styled)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((0,g.default)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),v=(0,f.styled)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((0,g.default)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),b=i.forwardRef(function(e,i){let r=(0,m.useDefaultProps)({props:e,name:"MuiDivider"}),{absolute:n=!1,children:l,className:a,orientation:o="horizontal",component:s=l||"vertical"===o?"div":"hr",flexItem:d=!1,light:c=!1,role:u="hr"!==s?"separator":void 0,textAlign:f="center",variant:g="fullWidth",...b}=r,j={...r,absolute:n,component:s,flexItem:d,light:c,orientation:o,role:u,textAlign:f,variant:g},w=(e=>{let{absolute:t,children:i,classes:r,flexItem:n,light:l,orientation:a,textAlign:o,variant:s}=e;return(0,h.default)({root:["root",t&&"absolute",s,l&&"light","vertical"===a&&"vertical",n&&"flexItem",i&&"withChildren",i&&"vertical"===a&&"withChildrenVertical","right"===o&&"vertical"!==a&&"textAlignRight","left"===o&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},x.getDividerUtilityClass,r)})(j);return(0,t.jsx)(y,{as:s,className:(0,p.default)(w.root,a),role:u,ref:i,ownerState:j,"aria-orientation":"separator"===u&&("hr"!==s||"vertical"===o)?o:void 0,...b,children:l?(0,t.jsx)(v,{className:w.wrapper,ownerState:j,children:l}):null})});b&&(b.muiSkipListHighlight=!0);var j=e.i(71870),w=e.i(548),D=e.i(21980);function C({timeAtDepth:e}){let{divePlanner:r,updateTrigger:l}=(0,j.useDivePlanner)(),a=r.getCurrentDepth(),d=(0,i.useMemo)(()=>{let t,i=r.getCurrentDiveTime()+60*e,n=r.getNewCeiling(a,60*e);return{totalDiveDuration:i,ceiling:n,instantCeiling:r.getNewInstantCeiling(a,60*e),noDecoLimit:void 0===(t=r.getNoDecoLimit(a,r.getCurrentGas(),60*e))?"> 5 hours":(0,w.humanDuration)(t),decoMilestones:(()=>{let e=r.getCeilingChartData(a,r.getCurrentGas()).map(e=>(0,D.ceilingWithThreshold)(e.ceiling)),t=r.getStandardGases().filter(t=>t.maxDecoDepth<e[0]),i=[],n=0;for(let r=0;r<e.length&&0===n;r++){let l=[];for(let n of t)if((0,D.ceilingWithThreshold)(e[r])<=n.maxDecoDepth){let t=`If you spend ${(0,w.humanDuration)(r)} at ${a}m, the ceiling will rise to ${e[r]}m which allow you to ascend and switch to ${n.name}`;i.push({duration:r,gas:n.name,depth:e[r],tooltip:t}),l.push(n)}for(let e of l)t.splice(t.indexOf(e),1);0===e[r]&&0===n&&(n=r)}if(e[0]>0&&n>0){let e=`If you spend ${(0,w.humanDuration)(n)} at ${a}m your decompression will be complete and you can ascend directly to the surface`;i.push({duration:n,gas:"Deco complete",depth:0,tooltip:e})}return i})()}},[e,a,r,l]);return(0,t.jsx)(s.Paper,{elevation:2,sx:{p:2},children:(0,t.jsxs)(n.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,t.jsx)(u.Tooltip,{title:"The amount of additional time you can stay at the current depth on the current gas and safely ascend directly to the surface (Note: this takes into account off-gassing that occurs during ascent)",placement:"right",children:(0,t.jsxs)(o.Typography,{children:["No Deco Limit: ",(0,t.jsx)("strong",{children:d.noDecoLimit})]})}),(0,t.jsx)(u.Tooltip,{title:`The shallowest depth you can safely ascend directly to. This takes into account any on/off-gassing that may occur during the ascent. (Instantaneous Ceiling = ${d.instantCeiling}m)`,placement:"right",children:(0,t.jsxs)(o.Typography,{children:["Ceiling: ",(0,t.jsxs)("strong",{children:[d.ceiling,"m"]})]})}),(0,t.jsx)(u.Tooltip,{title:"Total dive runtime after the time at depth",placement:"right",children:(0,t.jsxs)(o.Typography,{children:["Total Dive Duration: ",(0,t.jsx)("strong",{children:(0,w.humanDuration)(d.totalDiveDuration)})]})}),d.decoMilestones.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{sx:{my:1}}),d.decoMilestones.map((e,i)=>(0,t.jsx)(u.Tooltip,{title:e.tooltip,placement:"right",children:(0,t.jsxs)(o.Typography,{children:[(0,t.jsx)("strong",{children:(0,w.humanDuration)(e.duration)}),": ",e.gas," @ ",e.depth,"m"]})},i))]})]})})}let T=(0,e.i(70703).default)(()=>e.A(23621),{loadableGenerated:{modules:[12634]},ssr:!1});function P({timeAtDepth:e}){let{divePlanner:r,updateTrigger:n}=(0,j.useDivePlanner)(),l=r.getCurrentDepth(),a=r.getCurrentGas(),o=(0,i.useMemo)(()=>{let e=r.getCeilingChartData(l,a);return[{x:e.map(e=>new Date(1970,1,1,0,0,e.time,0)),y:e.map(e=>e.ceiling),type:"scatter",mode:"lines",name:"Ceiling",line:{color:"#3F51B5",width:2},hovertemplate:"%{y:.0f}m"}]},[l,a,r,n]);return(0,t.jsx)(s.Paper,{elevation:2,sx:{p:1},children:(0,t.jsx)(T,{data:o,layout:{autosize:!0,showlegend:!1,title:{text:"Ceiling Over Time",y:.98},margin:{l:35,r:10,b:30,t:20,pad:10},xaxis:{fixedrange:!0,tickformat:"%H:%M:%S"},yaxis:{fixedrange:!0,autorange:"reversed"},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.4)"},shapes:[{type:"line",xref:"x",yref:"paper",x0:new Date(1970,1,1,0,0,60*e,0),x1:new Date(1970,1,1,0,0,60*e,0),y0:0,y1:1,line:{color:"red",width:1,dash:"dot"}}]},config:{responsive:!0,displaylogo:!1,displayModeBar:!1,autosizable:!0,scrollZoom:!1,editable:!1},style:{width:"100%",height:"300px"}})})}function S(){let e=(0,r.useRouter)(),{divePlanner:u}=(0,j.useDivePlanner)(),p=(0,j.useAddMaintainDepthSegment)(),[h,f]=(0,i.useState)(0);return(0,t.jsx)(n.Box,{component:"main",sx:{p:3},children:(0,t.jsxs)(n.Box,{sx:{maxWidth:900},children:[(0,t.jsx)(c.default,{}),(0,t.jsx)(o.Typography,{variant:"h5",sx:{my:2},children:"Select time at depth"}),(0,t.jsxs)(n.Box,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:[(0,t.jsxs)(n.Box,{sx:{flex:"1 1 300px"},children:[(0,t.jsx)(s.Paper,{elevation:2,sx:{p:2,mb:2},children:(0,t.jsx)(a.TextField,{label:"Time at Depth (mins)",type:"number",value:h,onChange:e=>{f(Math.max(0,parseInt(e.target.value)||0))},inputProps:{min:0},fullWidth:!0})}),(0,t.jsx)(C,{timeAtDepth:h})]}),(0,t.jsx)(n.Box,{sx:{flex:"2 1 500px"},children:(0,t.jsx)(P,{timeAtDepth:h})})]}),(0,t.jsxs)(n.Box,{sx:{display:"flex",gap:2,mt:2},children:[(0,t.jsx)(l.Button,{variant:"contained",color:"primary",onClick:()=>{p(60*h),e.push("/dive-overview")},children:"Save"}),(0,t.jsx)(l.Button,{variant:"outlined",component:d.default,href:"/dive-overview",children:"Cancel"})]})]})})}e.s(["default",()=>S],39765)},23621,e=>{e.v(t=>Promise.all(["static/chunks/f76859d19274a720.js"].map(t=>e.l(t))).then(()=>t(12634)))}]);